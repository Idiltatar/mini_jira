<% content_for :title, "Projects" %>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3 mb-0">Projects</h1>
  <%= link_to "New Project", new_project_path, class: "btn btn-primary" %>
</div>

<% if @projects.any? %>
  <div class="row g-3">
    <% @projects.each do |project| %>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">
              <%= link_to project.name, project, class: "text-decoration-none" %>
            </h5>
            <p class="card-text text-muted"><%= truncate(project.description, length: 120) %></p>
          </div>
          <div class="card-footer bg-white border-0 d-flex gap-2">
            <%= link_to "Open", project, class: "btn btn-outline-secondary btn-sm" %>
            <%= link_to "Edit", edit_project_path(project), class: "btn btn-outline-primary btn-sm" %>
            <%= button_to "Delete", project, method: :delete,
                  form: { data: { turbo_confirm: "Delete this project?" } },
                  class: "btn btn-outline-danger btn-sm" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-5 text-muted">
    No projects yet. Create your first one.
  </div>
<% end %>
